<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>07_addrExam</title>
</head>
<body>
    <h1>07_addrExam</h1>
    <script>
        // 1 입력부
        let stud =[
            ['원빈',39,67,96],    //0
            ['투빈',99,67,36],      //1
            ['현빈',39,57,76,94],       //2
            ['젤리빈',99,77,56,34],         //3
            ['장희빈',69,67,66,64],             //4
            ['텅빈',69,67,66]                       //5
        ]

        let res = []    // 결과 배열 
        /*
            res = [
                [원빈:구분,원빈:총점,원빈]
                [투빈:구분,투빈:총점,투빈]
                [현빈:구분,현빈:총점,현빈]
                ...
            ]
        */
        const kindTitle =[ "일반", "특기생"]

                        //국 / 영    / 수  예  = 가중치 
        const specRate = [0.05, 0.1, 0.15, 0.7] 

        // 2 연산부
        for(const i in stud) { // i 는  index 가로의 번호 0 번 1번 2 번 ..5번
            const st = stud[i] // 이거를 해줘야지 st의 길이를 찾아서 
                                // kindTitle 의 0 번 1 번 을 찾을 수 있음
                                // const st 로 stud [ i ] 지정해주어야
                                // st의 길이를 알수 있음

            // console.log(stud[i])
            let kind = kindTitle[st.length-4]
            
            let tot= 0
            let avg= 0
            for(let j=1; j<st.length; j++) {
                tot += st[j]
                avg += st[j] * specRate[j-1]
            }

            if(kind=="일반") {
                avg  = tot / (st.length-1)
            }
            // }else if (kind =="특기생") {
            //     avg = st[1]*0.05+st[2]*0.1+st[3]*0.15+st[4]*0.7
            // }

            res[i] = [kind,tot,avg]
            console.log(res[i])

        }

        //  3출력부

    </script>
    <table border="">
        <tr>
            <td>구분</td>
            <td>이름</td>
            <td>국어</td>
            <td>영어</td>
            <td>수학</td>
            <td>예체능</td>
            <td>총점</td>
            <td>평균</td>
        </tr>

        <script>
            for(const i in stud){
                let ttt = "<tr>"

                    ttt +="<td>"
                    ttt += res[i][0]    //i: 사람  0"구분
                    ttt +="</td>"
                    
                    //  원시데이터  : 이름 과목
                    for(const dd of stud[i]){
                        ttt +="<td>"
                        ttt += dd    
                        ttt +="</td>"
                        
                    }
                    if(res[i][0]== "일반"){
                        console.log("빈칸")
                        ttt +="<td></td>"
                    }
                    // 총점
                    for(let j =1; j <res[i].length; j++){
                        console.log(res[i].length)
                        ttt +="<td>"
                        ttt += res[i][j]
                        ttt +="</td>"
                    }

                    
                    ttt += "</tr>"
                document.write(ttt)
            }
        </script>
    </table>

</body>
</html>